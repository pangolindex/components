import { Canvas, Meta, Story } from '@storybook/addon-docs';

import ThemeProvider from 'src/theme';

<Meta title="Guide/Introduction" component={ThemeProvider} />

## Installation

`yarn add @pangolindex/components`

or

`npm install @pangolindex/components`

#### Install below dependancies as its peer dependancies

```
react
react-dom
@pangolindex/sdk ( for version see below mapping )
```

#### components <-> sdk version mapping

| @pangolindex/components | @pangolindex/sdk |
| ----------------------- | ---------------- |
| 4.0.4                   | 2.1.11           |
| <4.1.0                  | 3.0.1            |
| 4.1.0                   | 3.1.2            |
| 4.1.1 - <=4.2.0         | 3.1.3            |
| 4.2.1-rc.0 - <=4.3.0    | 3.1.12            |
| 4.4.0                   | 3.1.13            |

## Getting started

In your main file wrap your app with `PangolinProvider`:

```tsx
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import { PangolinProvider } from '@pangolindex/components';

// library -> web3.js provider
// chainId -> chain id with which user is connected
// account -> user's connected wallet address
// theme -> optional ( refer Theme guide to customize it )
ReactDOM.render(
  <React.StrictMode>
    <PangolinProvider library={library} chainId={chainId} account={account} theme={theme}>
      <App />
    </PangolinProvider>
  </React.StrictMode>,
  document.getElementById('root'),
);
```

# Customizing Theme

In `PangolinProvider` you can pass custom theme. Follow `Guide -> Theme` to customize theme.

# Redux

If you are using redux in your application then you will need to use custom context https://react-redux.js.org/api/hooks#custom-context with your Provider.

# development flow

1. do `yarn` in components
2. do `yarn dev` which will watch for any files changes and recompiles files
3. do `yalc link "@pangolindex/components"` in the project where you want to use components

Incase react hook violation error comes, in that case follow below steps also.

1. do `yarn link` in `<project_root>/node_modules/react`.
2. do `yarn link react` in components which will symlink react which are being used by project.

# Publish flow

- do `yarn publish` which will build the components and publish to npm.
